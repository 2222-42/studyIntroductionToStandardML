
問3.1

> `3 * 3.14;`

infix `*` は左と右とが型を一致していないといけない。

筆者の回答「組み込み演算*の引数はすべて整数型かすべて実数型のどちらかでなければならず，整数型と実数型は混在できない．MLに自動的な型変換はない．」

> `fun f1 x = (x 1, x true);`

右のbodyの中を見ると、仮引数`x`は関数であり、それの入力の型がそれぞれ、`x 1`ではintであり、`x true`ではbool であり、型エラーを起こす。

筆者の回答「関数xの引数の型がint型とbool型の2通りに使われている． MLでは，多相型が与えられる名前は関数宣言およびval宣言されたもののみであ り，パターンの中に現れる変数は，そのスコープでは単相型をもつ．」

コメント：「パターンの中に現れる変数は，そのスコープでは単相型をもつ」というのはどこに記載されているのだろうか。

> `fun f2 x y = if true then x y else y x;`

`x y`を見ると、`x: 'a -> 'b` という関数になり、`y: 'a`になるが、
`y x`を見ると、`y: 'a -> 'b` という関数になり、`x: 'a`となる。

型の定義が再帰的に循環することになるため、壊れる。

筆者の回答「x yはxの型がyの型を引数の型とする関数型である ことを要求し， y xはyの型がxの型を引数の型とする関数型である ことを要求するが，これら２つの条件は循環しており，これらを同時に満たす型 は（有限の型の世界では)存在しない．」

コメント：「有限の型の世界では」と明言しているのは正しい

> `fun f3 x = x x;`

`x x`を見ると、`x: 'a -> 'b` という関数になり、`x: 'a`になる。

型の定義が再帰的に循環することになるため、壊れる。

筆者の回答「x xはxの型がxの型を引数の型とする関数型である ことを要求するが，この条件を満たす型は（有限の型の世界では)存在しない．」

コメント：「有限の型の世界では」と明言しているのは正しい

筆者の補足「型の意味を，型に属する値の集合と見なし，関数の意味を引数と結果の 組の集合と考えると，x xは自分自身を部分として含む集合となり，矛盾す る．さらに興味がある読者は，「ラッセルのパラドクス」に関するトピックを調 べてみよ」
